
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TECHNICAL_SPECIFICATIONS</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');
        
        @page {
            size: A4;
            margin: 20mm 15mm 20mm 15mm;
        }
        
        @media print {
            body { 
                margin: 0; 
                font-size: 10pt; 
                line-height: 1.3;
            }
            .no-print { display: none !important; }
            .page-break { page-break-before: always; }
            h1, h2 { page-break-after: avoid; }
            table { page-break-inside: avoid; }
            .doc-table { font-size: 8pt; }
            .print-btn { display: none !important; }
        }
        
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            line-height: 1.4;
            color: #2d3748;
            max-width: 210mm;
            margin: 0 auto;
            padding: 30px 25px;
            background: #ffffff;
            font-size: 13px;
        }
        
        /* Improved Typography Hierarchy */
        h1 { 
            color: #1a202c;
            font-weight: 700;
            font-size: 2.2rem;
            margin: 0 0 1rem 0;
            line-height: 1.1;
            border-bottom: 3px solid #4299e1;
            padding-bottom: 0.75rem;
            letter-spacing: -0.02em;
        }
        
        h2 { 
            color: #2d3748;
            font-weight: 600;
            font-size: 1.5rem;
            margin: 2rem 0 0.75rem 0;
            line-height: 1.2;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 0.5rem;
            letter-spacing: -0.01em;
        }
        
        h3 { 
            color: #4a5568;
            font-weight: 600;
            font-size: 1.25rem;
            margin: 1.5rem 0 0.5rem 0;
            line-height: 1.3;
        }
        
        h4 { 
            color: #718096;
            font-weight: 500;
            font-size: 1.1rem;
            margin: 1.25rem 0 0.5rem 0;
            line-height: 1.3;
        }
        
        /* Optimized Paragraphs and Text */
        p {
            margin: 0.5rem 0;
            text-align: justify;
            orphans: 2;
            widows: 2;
            line-height: 1.4;
        }
        
        /* Compact Code Styling */
        code { 
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            color: #e53e3e;
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-family: 'JetBrains Mono', 'Consolas', 'Monaco', monospace;
            font-size: 0.85rem;
            font-weight: 500;
            border: 1px solid #e2e8f0;
        }
        
        pre { 
            background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin: 1rem 0;
            border: 1px solid #4a5568;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            line-height: 1.3;
        }
        
        pre code {
            background: transparent;
            color: inherit;
            padding: 0;
            border: none;
            font-size: 0.8rem;
        }
        
        /* Compact Enhanced Tables */
        .doc-table { 
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: #ffffff;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            border: 1px solid #e2e8f0;
        }
        
        .doc-table th { 
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: #ffffff;
            font-weight: 600;
            padding: 0.75rem 1rem;
            text-align: left;
            font-size: 0.8rem;
            letter-spacing: 0.025em;
            text-transform: uppercase;
            line-height: 1.2;
        }
        
        .doc-table td { 
            padding: 0.6rem 1rem;
            border-bottom: 1px solid #e2e8f0;
            vertical-align: top;
            line-height: 1.3;
            font-size: 0.9rem;
        }
        
        .doc-table tr:nth-child(even) {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
        }
        
        /* Compact Enhanced Lists */
        ul, ol { 
            margin: 0.75rem 0;
            padding-left: 1.5rem;
        }
        
        li { 
            margin: 0.25rem 0;
            line-height: 1.4;
        }
        
        li.checked {
            color: #38a169;
            font-weight: 500;
        }
        
        li.unchecked {
            color: #a0aec0;
        }
        
        /* Links */
        a {
            color: #3182ce;
            text-decoration: none;
            font-weight: 500;
            border-bottom: 1px solid transparent;
            transition: all 0.2s ease;
        }
        
        a:hover {
            color: #2c5282;
            border-bottom-color: #3182ce;
        }
        
        /* Compact Blockquotes */
        blockquote { 
            border-left: 3px solid #4299e1;
            margin: 1rem 0;
            padding: 1rem 1.5rem;
            background: linear-gradient(135deg, #ebf8ff 0%, #bee3f8 100%);
            border-radius: 0 0.5rem 0.5rem 0;
            font-style: italic;
            position: relative;
            line-height: 1.4;
        }
        
        /* Compact Document Header */
        .doc-header {
            text-align: center;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .doc-header h1 {
            color: white;
            border: none;
            margin: 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            font-size: 2rem;
            line-height: 1.1;
        }
        
        .doc-header .subtitle {
            font-size: 1rem;
            opacity: 0.9;
            margin-top: 0.5rem;
            font-weight: 300;
            line-height: 1.2;
        }
        
        .doc-header .date {
            font-size: 0.8rem;
            opacity: 0.8;
            margin-top: 0.75rem;
            font-weight: 300;
            line-height: 1.2;
        }
        
        /* Compact Document Footer */
        .doc-footer {
            margin-top: 2rem;
            padding: 1.5rem;
            text-align: center;
            border-top: 2px solid #e2e8f0;
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: 0.5rem;
            color: #718096;
            line-height: 1.3;
        }
        
        /* Print Button */
        .print-btn {
            position: fixed;
            top: 25px;
            right: 25px;
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
            border: none;
            padding: 0.6rem 1.25rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.8rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
            z-index: 1000;
        }
        
        .print-btn:hover {
            background: linear-gradient(135deg, #3182ce 0%, #2c5282 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        /* Special Elements */
        .highlight {
            background: linear-gradient(135deg, #fed7d7 0%, #feb2b2 100%);
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-weight: 500;
        }
        
        .badge {
            display: inline-block;
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
            padding: 0.2rem 0.6rem;
            border-radius: 9999px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        /* Status indicators */
        .status-complete::before { content: "âœ… "; }
        .status-progress::before { content: "ðŸ”„ "; }
        .status-planned::before { content: "ðŸ“‹ "; }
        
        /* Compact spacing for specific elements */
        hr {
            margin: 1.5rem 0;
            border: none;
            border-top: 1px solid #e2e8f0;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            body { 
                padding: 15px 10px; 
                font-size: 12px;
            }
            h1 { font-size: 1.8rem; }
            h2 { font-size: 1.4rem; }
            h3 { font-size: 1.2rem; }
            .doc-table { font-size: 0.7rem; }
            .doc-table th, .doc-table td { padding: 0.5rem 0.75rem; }
            .print-btn { 
                bottom: 25px; 
                top: auto; 
                right: 15px; 
            }
        }</style>
</head>
<body>
    <button class="print-btn no-print" onclick="window.print()">ðŸ“„ Print to PDF</button>
    
    <div class="doc-header">
        <h1>TECHNICAL SPECIFICATIONS</h1>
        <div class="subtitle">Licence IQ Research Platform Documentation</div>
        <div class="date">Generated on September 7, 2025</div>
    </div>
    
    <div class="content">
        <h1>Licence IQ Research Platform - Technical Specifications</h1><h2>System Overview</h2><br>The Licence IQ Research Platform is a full-stack SaaS application designed for intelligent contract management and AI-powered document analysis.</p><h2>Architecture Stack</h2><h3>Frontend Technology</h3><br><ul><li><strong>Framework:</strong> React 18 with TypeScript</li></ul><br><ul><li><strong>Build Tool:</strong> Vite with HMR</li></ul><br><ul><li><strong>UI Library:</strong> TailwindCSS + shadcn/ui components</li></ul><br><ul><li><strong>State Management:</strong> TanStack Query (React Query)</li></ul><br><ul><li><strong>Routing:</strong> Wouter (lightweight React router)</li></ul><br><ul><li><strong>Form Handling:</strong> React Hook Form with Zod validation</li></ul><br><ul><li><strong>Icons:</strong> Lucide React</li></ul><h3>Backend Technology</h3><br><ul><li><strong>Runtime:</strong> Node.js with TypeScript</li></ul><br><ul><li><strong>Framework:</strong> Express.js</li></ul><br><ul><li><strong>ORM:</strong> Drizzle ORM with PostgreSQL</li></ul><br><ul><li><strong>Authentication:</strong> Session-based with passport.js</li></ul><br><ul><li><strong>File Handling:</strong> Multer for multipart uploads</li></ul><br><ul><li><strong>AI Integration:</strong> Groq API (LLaMA 3.1 8B Instant)</li></ul><h3>Database</h3><br><ul><li><strong>Primary Database:</strong> PostgreSQL 15+</li></ul><br><ul><li><strong>Connection Pool:</strong> @neondatabase/serverless</li></ul><br><ul><li><strong>Migration Tool:</strong> Drizzle migrations</li></ul><br><ul><li><strong>Session Storage:</strong> PostgreSQL with connect-pg-simple</li></ul><h3>External Services</h3><br><ul><li><strong>AI Provider:</strong> Groq API</li></ul><br><ul><li><strong>Database Hosting:</strong> Neon PostgreSQL</li></ul><br><ul><li><strong>File Storage:</strong> Local filesystem (expandable to cloud storage)</li></ul><h2>Database Schema</h2><h3>Core Entities</h3><br><pre><code>sql<br>-- Users table with role-based access control<br>users {<br>  id: uuid (primary key)<br>  username: varchar(255) unique<br>  password: varchar(255) encrypted<br>  role: enum('owner', 'admin', 'editor', 'viewer', 'auditor')<br>  email: varchar(255) unique<br>  firstName: varchar(255)<br>  lastName: varchar(255)<br>  isActive: boolean default true<br>  createdAt: timestamp<br>  updatedAt: timestamp<br>}</p><p>-- Contracts table for document management<br>contracts {<br>  id: uuid (primary key)<br>  originalName: varchar(500)<br>  filePath: varchar(1000)<br>  fileSize: bigint<br>  fileType: varchar(100)<br>  contractType: varchar(100)<br>  status: enum('pending', 'processing', 'analyzed', 'failed')<br>  priority: enum('low', 'normal', 'high', 'urgent')<br>  uploadedBy: uuid (foreign key to users)<br>  processingTime: integer<br>  createdAt: timestamp<br>  updatedAt: timestamp<br>}</p><p>-- Contract analysis results from AI processing<br>contractAnalysis {<br>  id: uuid (primary key)<br>  contractId: uuid (foreign key to contracts)<br>  summary: text<br>  keyTerms: jsonb<br>  riskAnalysis: jsonb<br>  insights: jsonb<br>  confidence: varchar(10)<br>  processingTime: integer<br>  createdAt: timestamp<br>}</p><p>-- Audit trail for compliance and tracking<br>auditLogs {<br>  id: uuid (primary key)<br>  userId: uuid (foreign key to users)<br>  action: varchar(255)<br>  entityType: varchar(100)<br>  entityId: uuid<br>  details: jsonb<br>  ipAddress: varchar(45)<br>  userAgent: text<br>  createdAt: timestamp<br>}</p><p>-- Session storage for authentication<br>sessions {<br>  sid: varchar (primary key)<br>  sess: jsonb<br>  expire: timestamp<br>}<br></code></pre></p><h3>Relationships</h3><br><ul><li><code>contracts.uploadedBy</code> â†’ <code>users.id</code> (many-to-one)</li></ul><br><ul><li><code>contractAnalysis.contractId</code> â†’ <code>contracts.id</code> (one-to-one)</li></ul><br><ul><li><code>auditLogs.userId</code> â†’ <code>users.id</code> (many-to-one)</li></ul><h2>API Endpoints</h2><h3>Authentication Endpoints</h3><br><pre><code>typescript<br>POST   /api/register          // User registration<br>POST   /api/login             // User login<br>POST   /api/logout            // User logout<br>GET    /api/user              // Get current user<br></code></pre></p><h3>Contract Management Endpoints</h3><br><pre><code>typescript<br>GET    /api/contracts         // List all contracts (paginated)<br>GET    /api/contracts/:id     // Get specific contract with analysis<br>POST   /api/contracts/upload  // Upload new contract file<br>PUT    /api/contracts/:id/reprocess // Reprocess contract with AI<br>DELETE /api/contracts/:id     // Delete contract (with permissions)<br>GET    /api/contracts/:id/export    // Export analysis report<br></code></pre></p><h3>Analytics Endpoints</h3><br><pre><code>typescript<br>GET    /api/analytics/metrics // Dashboard metrics<br>GET    /api/analytics/reports // Generate reports<br></code></pre></p><h3>User Management Endpoints</h3><br><pre><code>typescript<br>GET    /api/users             // List users (admin only)<br>PUT    /api/users/:id         // Update user (admin only)<br>DELETE /api/users/:id         // Delete user (owner only)<br></code></pre></p><h2>AI Integration Specifications</h2><h3>Groq Service Configuration</h3><br><pre><code>typescript<br>interface GroqConfig {<br>  apiKey: string;           // GROQ_API_KEY environment variable<br>  baseUrl: string;          // https://api.groq.com/openai/v1<br>  model: string;            // llama-3.1-8b-instant<br>  temperature: number;      // 0.1 for consistent analysis<br>  maxTokens: number;        // 4000 for detailed responses<br>}<br></code></pre></p><h3>Analysis Result Schema</h3><br><pre><code>typescript<br>interface ContractAnalysisResult {<br>  summary: string;                    // 2-3 paragraph overview<br>  keyTerms: Array<{<br>    type: string;                     // Term category<br>    description: string;              // Term description<br>    confidence: number;               // 0.0 to 1.0<br>    location: string;                 // Document section reference<br>  }>;<br>  riskAnalysis: Array<{<br>    level: 'high' <table class="doc-table"><tr><td>'medium'</td></tr></table> 'low'; // Risk severity<br>    title: string;                    // Risk title<br>    description: string;              // Risk details<br>  }>;<br>  insights: Array<{<br>    type: string;                     // insight <table class="doc-table"><tr><td>opportunity</td></tr></table> alert<br>    title: string;                    // Insight title<br>    description: string;              // Insight details<br>  }>;<br>  confidence: number;                 // Overall confidence score<br>}<br></code></pre></p><h2>Security Specifications</h2><h3>Authentication & Authorization</h3><br><ul><li><strong>Session-based Authentication:</strong> Secure session cookies with HttpOnly flag</li></ul><br><ul><li><strong>Password Security:</strong> bcrypt hashing with salt rounds</li></ul><br><ul><li><strong>Role-Based Access Control:</strong> 5-tier permission system</li></ul><br><ul><li><strong>Session Timeout:</strong> Configurable session expiration</li></ul><h3>Data Security</h3><br><ul><li><strong>Input Validation:</strong> Zod schemas for all data inputs</li></ul><br><ul><li><strong>SQL Injection Protection:</strong> Parameterized queries via Drizzle ORM</li></ul><br><ul><li><strong>File Upload Security:</strong> Type validation, size limits, path sanitization</li></ul><br><ul><li><strong>XSS Protection:</strong> Content Security Policy headers</li></ul><h3>Permission Matrix</h3><br><pre><code>typescript<br>interface PermissionMatrix {<br>  owner: ['*'];                      // Full system access<br>  admin: ['user:<em>', 'contract:</em>'];   // User and contract management<br>  editor: ['contract:create', 'contract:update', 'contract:read'];<br>  viewer: ['contract:read'];         // Read-only access<br>  auditor: ['contract:read', 'audit:read']; // Compliance access<br>}<br></code></pre></p><h2>File Processing Pipeline</h2><h3>Supported File Types</h3><br><ul><li><strong>PDF:</strong> Direct text extraction</li></ul><br><ul><li><strong>DOCX:</strong> Microsoft Word document processing</li></ul><br><ul><li><strong>TXT:</strong> Plain text files</li></ul><br><ul><li><strong>Future:</strong> OCR for scanned documents</li></ul><h3>Processing Workflow</h3><br>1. <strong>Upload Validation:</strong> File type, size, and security checks<br>2. <strong>Text Extraction:</strong> Convert file content to plain text<br>3. <strong>AI Analysis:</strong> Send text to Groq API for analysis<br>4. <strong>Result Storage:</strong> Save structured analysis to database<br>5. <strong>Status Updates:</strong> Real-time processing status updates</p><h3>Error Handling</h3><br><ul><li><strong>File Processing Errors:</strong> Graceful error handling with user feedback</li></ul><br><ul><li><strong>AI API Errors:</strong> Retry logic with exponential backoff</li></ul><br><ul><li><strong>Storage Errors:</strong> Transaction rollback and cleanup</li></ul><h2>Performance Specifications</h2><h3>Response Time Targets</h3><br><ul><li><strong>File Upload:</strong> < 5 seconds for files up to 10MB</li></ul><br><ul><li><strong>AI Analysis:</strong> < 30 seconds average processing time</li></ul><br><ul><li><strong>Dashboard Load:</strong> < 2 seconds initial page load</li></ul><br><ul><li><strong>Contract List:</strong> < 1 second with pagination</li></ul><h3>Scalability Considerations</h3><br><ul><li><strong>Database Connection Pooling:</strong> Efficient connection management</li></ul><br><ul><li><strong>Async Processing:</strong> Non-blocking file processing pipeline</li></ul><br><ul><li><strong>Query Optimization:</strong> Indexed queries and efficient joins</li></ul><br><ul><li><strong>Caching Strategy:</strong> Redis for session and frequently accessed data</li></ul><h2>Deployment Specifications</h2><h3>Environment Variables</h3><br><pre><code>bash<br><h1>Database</h1><br>DATABASE_URL=postgresql://...<br>PGHOST=...<br>PGPORT=5432<br>PGUSER=...<br>PGPASSWORD=...<br>PGDATABASE=...</p><h1>Authentication</h1><br>SESSION_SECRET=...</p><h1>AI Service</h1><br>GROQ_API_KEY=...</p><h1>Application</h1><br>NODE_ENV=production<br>PORT=5000<br></code></pre></p><h3>Infrastructure Requirements</h3><br><ul><li><strong>CPU:</strong> 2+ cores for concurrent processing</li></ul><br><ul><li><strong>Memory:</strong> 4GB+ RAM for Node.js and file processing</li></ul><br><ul><li><strong>Storage:</strong> 20GB+ for application and temporary files</li></ul><br><ul><li><strong>Network:</strong> High-bandwidth for file uploads and AI API calls</li></ul><h2>Monitoring & Observability</h2><h3>Logging Strategy</h3><br><ul><li><strong>Application Logs:</strong> Structured JSON logs with Winston</li></ul><br><ul><li><strong>Access Logs:</strong> HTTP request/response logging</li></ul><br><ul><li><strong>Error Tracking:</strong> Comprehensive error logging with stack traces</li></ul><br><ul><li><strong>Audit Logs:</strong> All user actions tracked for compliance</li></ul><h3>Metrics Collection</h3><br><ul><li><strong>Performance Metrics:</strong> Response times, throughput</li></ul><br><ul><li><strong>Business Metrics:</strong> Upload counts, processing success rates</li></ul><br><ul><li><strong>System Metrics:</strong> CPU, memory, database performance</li></ul><br><ul><li><strong>AI Metrics:</strong> Analysis confidence scores, processing times</li></ul><h2>Testing Strategy</h2><h3>Test Coverage Areas</h3><br><ul><li><strong>Unit Tests:</strong> Individual function and component testing</li></ul><br><ul><li><strong>Integration Tests:</strong> API endpoint and database integration</li></ul><br><ul><li><strong>Security Tests:</strong> Authentication, authorization, input validation</li></ul><br><ul><li><strong>Performance Tests:</strong> Load testing and stress testing</li></ul><br><ul><li><strong>User Acceptance Tests:</strong> End-to-end user workflows</li></ul><h3>Test Data Requirements</h3><br><ul><li><strong>Sample Contracts:</strong> Various document types and sizes</li></ul><br><ul><li><strong>User Accounts:</strong> Different role levels for testing</li></ul><br><ul><li><strong>Edge Cases:</strong> Malformed files, large documents, API failures</li></ul>
    </div>
    
    <div class="doc-footer no-print">
        <p><strong>Licence IQ Research Platform</strong><br>
        Professional Document Management & AI Analysis Solution<br>
        <em>This document was automatically generated from Markdown source</em></p>
    </div>
</body>
</html>