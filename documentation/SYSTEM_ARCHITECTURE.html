
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYSTEM_ARCHITECTURE</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');
        
        @page {
            size: A4;
            margin: 25mm 20mm 25mm 20mm;
        }
        
        @media print {
            body { 
                margin: 0; 
                font-size: 11pt; 
                line-height: 1.4;
            }
            .no-print { display: none !important; }
            .page-break { page-break-before: always; }
            h1, h2 { page-break-after: avoid; }
            table { page-break-inside: avoid; }
            .doc-table { font-size: 9pt; }
            .print-btn { display: none !important; }
        }
        
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: #2d3748;
            max-width: 210mm;
            margin: 0 auto;
            padding: 40px 30px;
            background: #ffffff;
            font-size: 14px;
        }
        
        /* Typography Hierarchy */
        h1 { 
            color: #1a202c;
            font-weight: 700;
            font-size: 2.5rem;
            margin: 0 0 1.5rem 0;
            line-height: 1.2;
            border-bottom: 4px solid #4299e1;
            padding-bottom: 1rem;
            letter-spacing: -0.02em;
        }
        
        h2 { 
            color: #2d3748;
            font-weight: 600;
            font-size: 1.75rem;
            margin: 3rem 0 1.5rem 0;
            line-height: 1.3;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 0.75rem;
            letter-spacing: -0.01em;
        }
        
        h3 { 
            color: #4a5568;
            font-weight: 600;
            font-size: 1.375rem;
            margin: 2.5rem 0 1rem 0;
            line-height: 1.4;
        }
        
        h4 { 
            color: #718096;
            font-weight: 500;
            font-size: 1.125rem;
            margin: 2rem 0 0.75rem 0;
            line-height: 1.4;
        }
        
        /* Paragraphs and Text */
        p {
            margin: 1rem 0;
            text-align: justify;
            orphans: 2;
            widows: 2;
        }
        
        /* Code Styling */
        code { 
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            color: #e53e3e;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-family: 'JetBrains Mono', 'Consolas', 'Monaco', monospace;
            font-size: 0.875rem;
            font-weight: 500;
            border: 1px solid #e2e8f0;
        }
        
        pre { 
            background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 0.75rem;
            overflow-x: auto;
            margin: 1.5rem 0;
            border: 1px solid #4a5568;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        pre code {
            background: transparent;
            color: inherit;
            padding: 0;
            border: none;
            font-size: 0.875rem;
        }
        
        /* Enhanced Tables */
        .doc-table { 
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: #ffffff;
            border-radius: 0.75rem;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05), 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }
        
        .doc-table th { 
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: #ffffff;
            font-weight: 600;
            padding: 1rem 1.25rem;
            text-align: left;
            font-size: 0.875rem;
            letter-spacing: 0.025em;
            text-transform: uppercase;
        }
        
        .doc-table td { 
            padding: 1rem 1.25rem;
            border-bottom: 1px solid #e2e8f0;
            vertical-align: top;
        }
        
        .doc-table tr:nth-child(even) {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
        }
        
        .doc-table tr:hover {
            background: linear-gradient(135deg, #bee3f8 0%, #90cdf4 100%);
            transform: scale(1.01);
            transition: all 0.2s ease;
        }
        
        /* Enhanced Lists */
        ul, ol { 
            margin: 1.5rem 0;
            padding-left: 2rem;
        }
        
        li { 
            margin: 0.75rem 0;
            line-height: 1.6;
        }
        
        li.checked {
            color: #38a169;
            font-weight: 500;
        }
        
        li.unchecked {
            color: #a0aec0;
        }
        
        /* Links */
        a {
            color: #3182ce;
            text-decoration: none;
            font-weight: 500;
            border-bottom: 1px solid transparent;
            transition: all 0.2s ease;
        }
        
        a:hover {
            color: #2c5282;
            border-bottom-color: #3182ce;
        }
        
        /* Blockquotes */
        blockquote { 
            border-left: 4px solid #4299e1;
            margin: 2rem 0;
            padding: 1.5rem 2rem;
            background: linear-gradient(135deg, #ebf8ff 0%, #bee3f8 100%);
            border-radius: 0 0.75rem 0.75rem 0;
            font-style: italic;
            position: relative;
        }
        
        blockquote::before {
            content: '"';
            font-size: 4rem;
            color: #4299e1;
            position: absolute;
            top: -0.5rem;
            left: 0.5rem;
            font-family: serif;
        }
        
        /* Document Header */
        .doc-header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .doc-header h1 {
            color: white;
            border: none;
            margin: 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .doc-header .subtitle {
            font-size: 1.125rem;
            opacity: 0.9;
            margin-top: 0.5rem;
            font-weight: 300;
        }
        
        .doc-header .date {
            font-size: 0.875rem;
            opacity: 0.8;
            margin-top: 1rem;
            font-weight: 300;
        }
        
        /* Document Footer */
        .doc-footer {
            margin-top: 4rem;
            padding: 2rem;
            text-align: center;
            border-top: 2px solid #e2e8f0;
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: 0.75rem;
            color: #718096;
        }
        
        /* Print Button */
        .print-btn {
            position: fixed;
            top: 30px;
            right: 30px;
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.875rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
            z-index: 1000;
        }
        
        .print-btn:hover {
            background: linear-gradient(135deg, #3182ce 0%, #2c5282 100%);
            transform: translateY(-1px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        /* Special Elements */
        .highlight {
            background: linear-gradient(135deg, #fed7d7 0%, #feb2b2 100%);
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-weight: 500;
        }
        
        .badge {
            display: inline-block;
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        /* Status indicators */
        .status-complete::before { content: "✅ "; }
        .status-progress::before { content: "🔄 "; }
        .status-planned::before { content: "📋 "; }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            body { 
                padding: 20px 15px; 
                font-size: 13px;
            }
            h1 { font-size: 2rem; }
            h2 { font-size: 1.5rem; }
            h3 { font-size: 1.25rem; }
            .doc-table { font-size: 0.75rem; }
            .print-btn { 
                bottom: 30px; 
                top: auto; 
                right: 15px; 
            }
        }
    </style>
</head>
<body>
    <button class="print-btn no-print" onclick="window.print()">📄 Print to PDF</button>
    
    <div class="doc-header">
        <h1>SYSTEM ARCHITECTURE</h1>
        <div class="subtitle">Licence IQ Research Platform Documentation</div>
        <div class="date">Generated on September 7, 2025</div>
    </div>
    
    <div class="content">
        <h1>Licence IQ Research Platform - System Architecture</h1><h2>High-Level Architecture Overview</h2><p><pre><code><br>┌─────────────────────────────────────────────────────────────────┐<br>│                    LICENCE IQ RESEARCH PLATFORM                 │<br>├─────────────────────────────────────────────────────────────────┤<br>│                                                                 │<br>│  ┌──────────────┐    ┌─────────────┐    ┌────────────────┐     │<br>│  │   Frontend   │    │   Backend   │    │   AI Service   │     │<br>│  │   (React)    │◄──►│ (Express.js)│◄──►│   (Groq API)   │     │<br>│  │              │    │             │    │                │     │<br>│  └──────────────┘    └─────────────┘    └────────────────┘     │<br>│           │                   │                    │            │<br>│           │                   │                    │            │<br>│  ┌──────────────┐    ┌─────────────┐    ┌────────────────┐     │<br>│  │  UI Library  │    │  Database   │    │  File Storage  │     │<br>│  │ (shadcn/ui)  │    │(PostgreSQL) │    │   (Local FS)   │     │<br>│  └──────────────┘    └─────────────┘    └────────────────┘     │<br>│                                                                 │<br>└─────────────────────────────────────────────────────────────────┘<br></code></pre></p><h2>Detailed System Architecture</h2><h3>1. Frontend Architecture (Client Layer)</h3><br><pre><code><br>┌─────────────────────────────────────────────────────────────────┐<br>│                     FRONTEND ARCHITECTURE                       │<br>├─────────────────────────────────────────────────────────────────┤<br>│                                                                 │<br>│  ┌────────────┐  ┌────────────┐  ┌────────────┐  ┌─────────────┐│<br>│  │    Auth    │  │ Contracts  │  │ Analytics  │  │   Upload    ││<br>│  │   Pages    │  │   Pages    │  │   Pages    │  │    Page     ││<br>│  │            │  │            │  │            │  │             ││<br>│  └────────────┘  └────────────┘  └────────────┘  └─────────────┘│<br>│         │               │               │               │        │<br>│         └───────────────┼───────────────┼───────────────┘        │<br>│                         │               │                        │<br>│  ┌────────────────────────────────────────────────────────────┐ │<br>│  │                   SHARED COMPONENTS                       │ │<br>│  │                                                           │ │<br>│  │  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────┐ │ │<br>│  │  │ Contract │ │   Main   │ │  User    │ │    Dialog    │ │ │<br>│  │  │  Cards   │ │  Layout  │ │ Sidebar  │ │ Components   │ │ │<br>│  │  └──────────┘ └──────────┘ └──────────┘ └──────────────┘ │ │<br>│  └────────────────────────────────────────────────────────────┘ │<br>│                         │                                        │<br>│  ┌────────────────────────────────────────────────────────────┐ │<br>│  │                    CORE SERVICES                          │ │<br>│  │                                                           │ │<br>│  │  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────┐ │ │<br>│  │  │ TanStack │ │   Auth   │ │  Theme   │ │    Routing   │ │ │<br>│  │  │  Query   │ │ Context  │ │ Context  │ │   (Wouter)   │ │ │<br>│  │  └──────────┘ └──────────┘ └──────────┘ └──────────────┘ │ │<br>│  └────────────────────────────────────────────────────────────┘ │<br>│                         │                                        │<br>│  ┌────────────────────────────────────────────────────────────┐ │<br>│  │                  DESIGN SYSTEM                            │ │<br>│  │                                                           │ │<br>│  │  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────┐ │ │<br>│  │  │Tailwind  │ │ shadcn/  │ │ Lucide   │ │  Dark/Light  │ │ │<br>│  │  │   CSS    │ │    ui    │ │  Icons   │ │    Themes    │ │ │<br>│  │  └──────────┘ └──────────┘ └──────────┘ └──────────────┘ │ │<br>│  └────────────────────────────────────────────────────────────┘ │<br>│                                                                 │<br>└─────────────────────────────────────────────────────────────────┘<br></code></pre></p><h3>2. Backend Architecture (Server Layer)</h3><br><pre><code><br>┌─────────────────────────────────────────────────────────────────┐<br>│                     BACKEND ARCHITECTURE                        │<br>├─────────────────────────────────────────────────────────────────┤<br>│                                                                 │<br>│  ┌────────────────────────────────────────────────────────────┐ │<br>│  │                      API ROUTES                            │ │<br>│  │                                                            │ │<br>│  │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌─────────────────┐│ │<br>│  │ │   Auth   │ │Contracts │ │Analytics │ │  User Mgmt      ││ │<br>│  │ │  Routes  │ │  Routes  │ │  Routes  │ │    Routes       ││ │<br>│  │ └──────────┘ └──────────┘ └──────────┘ └─────────────────┘│ │<br>│  └────────────────────────────────────────────────────────────┘ │<br>│                         │                                        │<br>│  ┌────────────────────────────────────────────────────────────┐ │<br>│  │                    MIDDLEWARE                              │ │<br>│  │                                                            │ │<br>│  │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌─────────────────┐│ │<br>│  │ │   Auth   │ │   CORS   │ │  Audit   │ │     Error       ││ │<br>│  │ │Middleware│ │Middleware│ │ Logging  │ │   Handling      ││ │<br>│  │ └──────────┘ └──────────┘ └──────────┘ └─────────────────┘│ │<br>│  └────────────────────────────────────────────────────────────┘ │<br>│                         │                                        │<br>│  ┌────────────────────────────────────────────────────────────┐ │<br>│  │                     SERVICES                               │ │<br>│  │                                                            │ │<br>│  │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌─────────────────┐│ │<br>│  │ │   Groq   │ │   File   │ │   PDF    │ │     Audit       ││ │<br>│  │ │ Service  │ │ Service  │ │ Service  │ │    Service      ││ │<br>│  │ └──────────┘ └──────────┘ └──────────┘ └─────────────────┘│ │<br>│  └────────────────────────────────────────────────────────────┘ │<br>│                         │                                        │<br>│  ┌────────────────────────────────────────────────────────────┐ │<br>│  │                  DATA ACCESS LAYER                         │ │<br>│  │                                                            │ │<br>│  │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌─────────────────┐│ │<br>│  │ │ Storage  │ │ Database │ │ Session  │ │   Connection    ││ │<br>│  │ │Interface │ │ Storage  │ │ Storage  │ │     Pool        ││ │<br>│  │ └──────────┘ └──────────┘ └──────────┘ └─────────────────┘│ │<br>│  └────────────────────────────────────────────────────────────┘ │<br>│                                                                 │<br>└─────────────────────────────────────────────────────────────────┘<br></code></pre></p><h3>3. Data Flow Architecture</h3><br><pre><code><br>┌─────────────────────────────────────────────────────────────────┐<br>│                       DATA FLOW DIAGRAM                         │<br>├─────────────────────────────────────────────────────────────────┤<br>│                                                                 │<br>│ ┌─────────┐    ┌─────────────┐    ┌─────────────────────────┐   │<br>│ │  User   │───►│   Upload    │───►│    File Processing      │   │<br>│ │Interface│    │  Component  │    │       Pipeline          │   │<br>│ └─────────┘    └─────────────┘    └─────────────────────────┘   │<br>│                       │                        │                │<br>│                       │                        ▼                │<br>│ ┌─────────────────────┼──────────┐  ┌─────────────────────────┐ │<br>│ │                     │          │  │    Text Extraction      │ │<br>│ │  ┌─────────────┐    │          │  │     (PDF/DOCX)          │ │<br>│ │  │   Session   │    │          │  └─────────────────────────┘ │<br>│ │  │ Management  │    │          │             │                │<br>│ │  └─────────────┘    │          │             ▼                │<br>│ │         │           │          │  ┌─────────────────────────┐ │<br>│ │  ┌─────────────┐    │          │  │    AI Analysis          │ │<br>│ │  │    Auth     │    │          │  │   (Groq LLaMA)         │ │<br>│ │  │ Validation  │    │          │  └─────────────────────────┘ │<br>│ │  └─────────────┘    │          │             │                │<br>│ │         │           │          │             ▼                │<br>│ │  ┌─────────────┐    │          │  ┌─────────────────────────┐ │<br>│ │  │    RBAC     │    │          │  │   Analysis Storage      │ │<br>│ │  │ Permission  │    │          │  │     (Database)          │ │<br>│ │  │   Check     │    │          │  └─────────────────────────┘ │<br>│ │  └─────────────┘    │          │             │                │<br>│ └─────────────────────┼──────────┘             │                │<br>│                       │                        │                │<br>│                       ▼                        ▼                │<br>│ ┌─────────────────────────────────────────────────────────────┐ │<br>│ │                   DATABASE LAYER                            │ │<br>│ │                                                             │ │<br>│ │  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────────────┐│ │<br>│ │  │  Users  │  │Contract │  │Analysis │  │   Audit Logs    ││ │<br>│ │  │  Table  │  │  Table  │  │  Table  │  │     Table       ││ │<br>│ │  └─────────┘  └─────────┘  └─────────┘  └─────────────────┘│ │<br>│ └─────────────────────────────────────────────────────────────┘ │<br>│                                                                 │<br>└─────────────────────────────────────────────────────────────────┘<br></code></pre></p><h3>4. Security Architecture</h3><br><pre><code><br>┌─────────────────────────────────────────────────────────────────┐<br>│                     SECURITY ARCHITECTURE                       │<br>├─────────────────────────────────────────────────────────────────┤<br>│                                                                 │<br>│ ┌─────────────────────────────────────────────────────────────┐ │<br>│ │                   AUTHENTICATION LAYER                     │ │<br>│ │                                                             │ │<br>│ │  ┌─────────┐    ┌──────────────┐    ┌──────────────────┐   │ │<br>│ │  │  Login  │───►│   Session    │───►│     Cookie       │   │ │<br>│ │  │Validation│    │  Management  │    │   (HttpOnly)     │   │ │<br>│ │  └─────────┘    └──────────────┘    └──────────────────┘   │ │<br>│ └─────────────────────────────────────────────────────────────┘ │<br>│                                │                                 │<br>│ ┌─────────────────────────────────────────────────────────────┐ │<br>│ │                  AUTHORIZATION LAYER                       │ │<br>│ │                                                             │ │<br>│ │  ┌─────────────┐  ┌──────────────┐  ┌──────────────────┐   │ │<br>│ │  │    RBAC     │  │  Permission  │  │      Route       │   │ │<br>│ │  │   System    │  │   Matrix     │  │   Protection     │   │ │<br>│ │  │(5 Roles)    │  │              │  │                  │   │ │<br>│ │  └─────────────┘  └──────────────┘  └──────────────────┘   │ │<br>│ └─────────────────────────────────────────────────────────────┘ │<br>│                                │                                 │<br>│ ┌─────────────────────────────────────────────────────────────┐ │<br>│ │                    INPUT VALIDATION                         │ │<br>│ │                                                             │ │<br>│ │  ┌─────────────┐  ┌──────────────┐  ┌──────────────────┐   │ │<br>│ │  │    Zod      │  │     File     │  │     Request      │   │ │<br>│ │  │ Validation  │  │  Validation  │  │   Sanitization   │   │ │<br>│ │  │             │  │              │  │                  │   │ │<br>│ │  └─────────────┘  └──────────────┘  └──────────────────┘   │ │<br>│ └─────────────────────────────────────────────────────────────┘ │<br>│                                │                                 │<br>│ ┌─────────────────────────────────────────────────────────────┐ │<br>│ │                      DATA PROTECTION                        │ │<br>│ │                                                             │ │<br>│ │  ┌─────────────┐  ┌──────────────┐  ┌──────────────────┐   │ │<br>│ │  │ Encrypted   │  │  Parameterized │ │     Secure      │   │ │<br>│ │  │ Passwords   │  │    Queries     │ │   File Paths    │   │ │<br>│ │  │   (bcrypt)  │  │   (Drizzle)    │ │                 │   │ │<br>│ │  └─────────────┘  └──────────────┘  └──────────────────┘   │ │<br>│ └─────────────────────────────────────────────────────────────┘ │<br>│                                                                 │<br>└─────────────────────────────────────────────────────────────────┘<br></code></pre></p><h3>5. AI Processing Pipeline</h3><br><pre><code><br>┌─────────────────────────────────────────────────────────────────┐<br>│                   AI PROCESSING ARCHITECTURE                     │<br>├─────────────────────────────────────────────────────────────────┤<br>│                                                                 │<br>│  ┌─────────────┐    ┌─────────────────┐    ┌─────────────────┐  │<br>│  │   File      │───►│   Text          │───►│    Groq API     │  │<br>│  │  Upload     │    │ Extraction      │    │   (LLaMA 3.1)   │  │<br>│  │             │    │                 │    │                 │  │<br>│  └─────────────┘    └─────────────────┘    └─────────────────┘  │<br>│         │                     │                       │         │<br>│         │                     │                       │         │<br>│  ┌─────────────┐    ┌─────────────────┐    ┌─────────────────┐  │<br>│  │ Validation  │    │   Processing    │    │   Analysis      │  │<br>│  │ & Storage   │    │     Queue       │    │   Results       │  │<br>│  │             │    │                 │    │                 │  │<br>│  └─────────────┘    └─────────────────┘    └─────────────────┘  │<br>│         │                     │                       │         │<br>│         │                     │                       │         │<br>│  ┌─────────────┐    ┌─────────────────┐    ┌─────────────────┐  │<br>│  │  Database   │    │    Status       │    │   Frontend      │  │<br>│  │  Storage    │    │   Updates       │    │    Display      │  │<br>│  │             │    │                 │    │                 │  │<br>│  └─────────────┘    └─────────────────┘    └─────────────────┘  │<br>│                                                                 │<br>│                     Processing States Flow:                     │<br>│                                                                 │<br>│  ┌─────────┐   ┌──────────────┐   ┌──────────┐   ┌──────────┐  │<br>│  │Pending  │──►│  Processing  │──►│Analyzed  │   │ Failed   │  │<br>│  │         │   │              │   │          │   │          │  │<br>│  └─────────┘   └──────────────┘   └──────────┘   └──────────┘  │<br>│                        │                              ▲        │<br>│                        │                              │        │<br>│                        └──────────────────────────────┘        │<br>│                           (Error Handling)                     │<br>│                                                                 │<br>└─────────────────────────────────────────────────────────────────┘<br></code></pre></p><h2>Component Interaction Matrix</h2><h3>Frontend Components</h3><br><table class="doc-table"><tr><td>Component</td><td>Dependencies</td><td>Purpose</td></tr></table><table class="doc-table"><tr><td>AuthPage</td><td>useAuth, Form components</td><td>User authentication</td></tr></table><br><table class="doc-table"><tr><td>ContractAnalysis</td><td>TanStack Query, AI results</td><td>Display analysis results</td></tr></table><br><table class="doc-table"><tr><td>ContractCard</td><td>Contract data, Status badges</td><td>Contract list item</td></tr></table><br><table class="doc-table"><tr><td>Dashboard</td><td>Analytics API, Chart components</td><td>Overview metrics</td></tr></table><br><table class="doc-table"><tr><td>Upload</td><td>File handling, Progress tracking</td><td>Document upload</td></tr></table><h3>Backend Services</h3><br><table class="doc-table"><tr><td>Service</td><td>Dependencies</td><td>Purpose</td></tr></table><table class="doc-table"><tr><td>GroqService</td><td>Groq API, HTTP client</td><td>AI analysis processing</td></tr></table><br><table class="doc-table"><tr><td>FileService</td><td>Multer, File system</td><td>File upload handling</td></tr></table><br><table class="doc-table"><tr><td>Storage</td><td>Drizzle ORM, PostgreSQL</td><td>Database operations</td></tr></table><br><table class="doc-table"><tr><td>AuthService</td><td>Session, Password hashing</td><td>Authentication logic</td></tr></table><h3>Database Relationships</h3><br><table class="doc-table"><tr><td>Table</td><td>Related To</td><td>Relationship Type</td></tr></table><table class="doc-table"><tr><td>users</td><td>contracts</td><td>One-to-many (uploadedBy)</td></tr></table><br><table class="doc-table"><tr><td>contracts</td><td>contractAnalysis</td><td>One-to-one</td></tr></table><br><table class="doc-table"><tr><td>users</td><td>auditLogs</td><td>One-to-many</td></tr></table><br><table class="doc-table"><tr><td>contracts</td><td>auditLogs</td><td>One-to-many (via entityId)</td></tr></table><h2>Scalability Considerations</h2><h3>Horizontal Scaling Points</h3><br>1. <strong>API Server:</strong> Multiple Express.js instances behind load balancer<br>2. <strong>Database:</strong> PostgreSQL read replicas for query distribution<br>3. <strong>File Storage:</strong> Distributed object storage (S3, GCS)<br>4. <strong>AI Processing:</strong> Queue-based processing with worker nodes</p><h3>Performance Optimizations</h3><br>1. <strong>Database Indexing:</strong> Optimized queries with proper indexes<br>2. <strong>Connection Pooling:</strong> Efficient database connection management<br>3. <strong>Caching:</strong> Redis for session and frequently accessed data<br>4. <strong>CDN:</strong> Static asset delivery optimization<br>5. <strong>Compression:</strong> Gzip compression for API responses</p>
    </div>
    
    <div class="doc-footer no-print">
        <p><strong>Licence IQ Research Platform</strong><br>
        Professional Document Management & AI Analysis Solution<br>
        <em>This document was automatically generated from Markdown source</em></p>
    </div>
</body>
</html>