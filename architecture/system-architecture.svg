<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="4" stdDeviation="3" flood-color="#000000" flood-opacity="0.2"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>
  
  <!-- Title -->
  <rect x="50" y="20" width="1100" height="60" rx="15" fill="#667eea" filter="url(#shadow)"/>
  <text x="600" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="white">
    Licence IQ Research Platform - System Architecture
  </text>
  
  <!-- User Layer -->
  <rect x="50" y="120" width="1100" height="80" rx="10" fill="#e2e8f0" stroke="#cbd5e1" stroke-width="2"/>
  <text x="100" y="145" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1e293b">User Layer</text>
  
  <!-- Users -->
  <circle cx="150" cy="175" r="20" fill="#3b82f6"/>
  <text x="150" y="181" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white" font-weight="bold">O</text>
  <text x="150" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">Owner</text>
  
  <circle cx="250" cy="175" r="20" fill="#10b981"/>
  <text x="250" y="181" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white" font-weight="bold">A</text>
  <text x="250" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">Admin</text>
  
  <circle cx="350" cy="175" r="20" fill="#f59e0b"/>
  <text x="350" y="181" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white" font-weight="bold">E</text>
  <text x="350" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">Editor</text>
  
  <circle cx="450" cy="175" r="20" fill="#8b5cf6"/>
  <text x="450" y="181" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white" font-weight="bold">V</text>
  <text x="450" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">Viewer</text>
  
  <circle cx="550" cy="175" r="20" fill="#ef4444"/>
  <text x="550" y="181" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white" font-weight="bold">AU</text>
  <text x="550" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">Auditor</text>
  
  <!-- Frontend Layer -->
  <rect x="50" y="250" width="1100" height="120" rx="15" fill="#4facfe" filter="url(#shadow)"/>
  <text x="100" y="280" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">Frontend Layer</text>
  
  <!-- Frontend Components -->
  <rect x="100" y="295" width="200" height="60" rx="10" fill="rgba(255,255,255,0.9)" stroke="#1e293b" stroke-width="1"/>
  <text x="200" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e293b">React + TypeScript</text>
  <text x="200" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">TailwindCSS</text>
  <text x="200" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">shadcn/ui</text>
  
  <rect x="330" y="295" width="200" height="60" rx="10" fill="rgba(255,255,255,0.9)" stroke="#1e293b" stroke-width="1"/>
  <text x="430" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e293b">Dashboard</text>
  <text x="430" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">Contract Analytics</text>
  <text x="430" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">File Upload</text>
  
  <rect x="560" y="295" width="200" height="60" rx="10" fill="rgba(255,255,255,0.9)" stroke="#1e293b" stroke-width="1"/>
  <text x="660" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e293b">Analysis Views</text>
  <text x="660" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">Risk Assessment</text>
  <text x="660" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">Key Terms</text>
  
  <rect x="790" y="295" width="200" height="60" rx="10" fill="rgba(255,255,255,0.9)" stroke="#1e293b" stroke-width="1"/>
  <text x="890" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e293b">User Management</text>
  <text x="890" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">RBAC Interface</text>
  <text x="890" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">Audit Trails</text>
  
  <!-- Backend Layer -->
  <rect x="50" y="410" width="1100" height="120" rx="15" fill="#43e97b" filter="url(#shadow)"/>
  <text x="100" y="440" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">Backend Layer</text>
  
  <!-- Backend Components -->
  <rect x="100" y="455" width="180" height="60" rx="10" fill="rgba(255,255,255,0.9)" stroke="#1e293b" stroke-width="1"/>
  <text x="190" y="475" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e293b">Express.js API</text>
  <text x="190" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">REST Endpoints</text>
  <text x="190" y="505" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">Middleware</text>
  
  <rect x="300" y="455" width="180" height="60" rx="10" fill="rgba(255,255,255,0.9)" stroke="#1e293b" stroke-width="1"/>
  <text x="390" y="475" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e293b">Authentication</text>
  <text x="390" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">Session Management</text>
  <text x="390" y="505" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">RBAC</text>
  
  <rect x="500" y="455" width="180" height="60" rx="10" fill="rgba(255,255,255,0.9)" stroke="#1e293b" stroke-width="1"/>
  <text x="590" y="475" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e293b">File Processing</text>
  <text x="590" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">Document Upload</text>
  <text x="590" y="505" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">Text Extraction</text>
  
  <rect x="700" y="455" width="180" height="60" rx="10" fill="rgba(255,255,255,0.9)" stroke="#1e293b" stroke-width="1"/>
  <text x="790" y="475" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e293b">Business Logic</text>
  <text x="790" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">Contract Analysis</text>
  <text x="790" y="505" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">Data Processing</text>
  
  <rect x="900" y="455" width="180" height="60" rx="10" fill="rgba(255,255,255,0.9)" stroke="#1e293b" stroke-width="1"/>
  <text x="990" y="475" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e293b">Audit Service</text>
  <text x="990" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">Activity Logging</text>
  <text x="990" y="505" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1e293b">Compliance</text>
  
  <!-- AI Integration -->
  <rect x="50" y="570" width="350" height="80" rx="15" fill="#a8edea" filter="url(#shadow)"/>
  <text x="100" y="600" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1e293b">AI Integration</text>
  <text x="100" y="620" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">Groq API (LLaMA 3.1 8B Instant)</text>
  <text x="100" y="635" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">Contract Analysis &amp; Risk Assessment</text>
  
  <!-- Database Layer -->
  <rect x="450" y="570" width="350" height="80" rx="15" fill="#fa709a" filter="url(#shadow)"/>
  <text x="500" y="600" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Database Layer</text>
  <text x="500" y="620" font-family="Arial, sans-serif" font-size="12" fill="white">PostgreSQL with Drizzle ORM</text>
  <text x="500" y="635" font-family="Arial, sans-serif" font-size="12" fill="white">Users, Contracts, Analysis, Audit Trails</text>
  
  <!-- External Services -->
  <rect x="850" y="570" width="300" height="80" rx="15" fill="#64748b" filter="url(#shadow)"/>
  <text x="900" y="600" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">External Services</text>
  <text x="900" y="620" font-family="Arial, sans-serif" font-size="12" fill="white">File Storage</text>
  <text x="900" y="635" font-family="Arial, sans-serif" font-size="12" fill="white">Session Store</text>
  
  <!-- Flow Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
     refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4b5563" />
    </marker>
  </defs>
  
  <!-- User to Frontend -->
  <path d="M 350 200 L 350 250" stroke="#4b5563" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
  
  <!-- Frontend to Backend -->
  <path d="M 600 370 L 600 410" stroke="#4b5563" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
  
  <!-- Backend to AI -->
  <path d="M 300 530 L 225 570" stroke="#4b5563" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
  
  <!-- Backend to Database -->
  <path d="M 600 530 L 625 570" stroke="#4b5563" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
  
  <!-- Backend to External -->
  <path d="M 900 530 L 1000 570" stroke="#4b5563" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
  
  <!-- Legend -->
  <rect x="50" y="680" width="1100" height="100" rx="10" fill="#f1f5f9" stroke="#e2e8f0" stroke-width="1"/>
  <text x="100" y="705" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e293b">Technology Stack</text>
  <text x="100" y="725" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">Frontend: React + TypeScript + TailwindCSS + shadcn/ui</text>
  <text x="100" y="740" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">Backend: Express.js + TypeScript + PostgreSQL + Drizzle ORM</text>
  <text x="100" y="755" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">AI: Groq API with LLaMA 3.1 8B Instant Model</text>
  <text x="100" y="770" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">Security: Session-based authentication with role-based access control</text>
</svg>